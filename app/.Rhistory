#load the cleaned data
License_merged_clean <- read.csv("../output/License_merged_clean.csv")
library(shiny); runApp('r shiny app.R')
runApp('r shiny app.R')
runApp('r shiny app.R')
runApp('r shiny app.R')
runApp('D:/source/Stats 5243/r shiny app.R')
runApp('D:/source/Stats 5243/r shiny app.R')
runApp('r shiny app.R')
License_Applications <- read.csv("../data/License_Applications.csv")
Legally_Operating_Businesses <- read.csv("../data/Legally_Operating_Businesses.csv")
Legal <- Legally_Operating_Businesses[,c('DCA.License.Number','Address.Borough')]
License_merged <- left_join(License_Applications, Legal,by=c('License.Number' = 'DCA.License.Number'),multiple="all")
library(dplyr)
library(lubridate)
library(ggplot2)
library(shiny)
library(shinydashboard)
library(shinyWidgets)
library(zoo)
library(shinythemes)
License_merged <- left_join(License_Applications, Legal,by=c('License.Number' = 'DCA.License.Number'),multiple="all")
#License_merged <- left_join(License_Applications, Legal,by=c('License.Number' = 'DCA.License.Number'),multiple="all")
NY <- c('ny', 'NY', 'New York')
#License_merged <- left_join(License_Applications, Legal,by=c('License.Number' = 'DCA.License.Number'),multiple="all")
#NY <- c('ny', 'NY', 'New York')
License_merged_Ny <- filter(License_merged, `State` %in% NY)
unique(License_merged_Ny$State) #check
License_merged_Ny$`Start.Date` <- mdy(License_merged_Ny$Start.Date)
License_merged_Ny$`End.Date` <- mdy(License_merged_Ny$`End.Date`)
month <- month(License_merged_Ny$Start.Date)
year <- year(License_merged_Ny$`Start.Date`)
#clean data
#License_merged_Ny$`Start.Date` <- mdy(License_merged_Ny$Start.Date)
#License_merged_Ny$`End.Date` <- mdy(License_merged_Ny$`End.Date`)
#month <- month(License_merged_Ny$Start.Date)
#year <- year(License_merged_Ny$`Start.Date`)
License_merged_Ny <- mutate(License_merged_Ny, Start.Month= format_ISO8601(as.Date(Start.Date), precision = "ym"))
#clean data
#License_merged_Ny$`Start.Date` <- mdy(License_merged_Ny$Start.Date)
#License_merged_Ny$`End.Date` <- mdy(License_merged_Ny$`End.Date`)
#month <- month(License_merged_Ny$Start.Date)
#year <- year(License_merged_Ny$`Start.Date`)
#License_merged_Ny <- mutate(License_merged_Ny, Start.Month= format_ISO8601(as.Date(Start.Date), precision = "ym"))
License_merged_Ny <- mutate(License_merged_Ny, Start.Year= year)
#clean data
#License_merged_Ny$`Start.Date` <- mdy(License_merged_Ny$Start.Date)
#License_merged_Ny$`End.Date` <- mdy(License_merged_Ny$`End.Date`)
#month <- month(License_merged_Ny$Start.Date)
#year <- year(License_merged_Ny$`Start.Date`)
#License_merged_Ny <- mutate(License_merged_Ny, Start.Month= format_ISO8601(as.Date(Start.Date), precision = "ym"))
#License_merged_Ny <- mutate(License_merged_Ny, Start.Year= year)
License_merged_Ny$End.year <- year(License_merged_Ny$End.Date)
#clean data
#License_merged_Ny$`Start.Date` <- mdy(License_merged_Ny$Start.Date)
#License_merged_Ny$`End.Date` <- mdy(License_merged_Ny$`End.Date`)
#month <- month(License_merged_Ny$Start.Date)
#year <- year(License_merged_Ny$`Start.Date`)
#License_merged_Ny <- mutate(License_merged_Ny, Start.Month= format_ISO8601(as.Date(Start.Date), precision = "ym"))
#License_merged_Ny <- mutate(License_merged_Ny, Start.Year= year)
#License_merged_Ny$End.year <- year(License_merged_Ny$End.Date)
License_merged_Ny <- mutate(License_merged_Ny, Processing.time = as.numeric(difftime(License_merged_Ny$`End.Date`,License_merged_Ny$`Start.Date`,units = 'days')))
#clean data
#License_merged_Ny$`Start.Date` <- mdy(License_merged_Ny$Start.Date)
#License_merged_Ny$`End.Date` <- mdy(License_merged_Ny$`End.Date`)
#month <- month(License_merged_Ny$Start.Date)
#year <- year(License_merged_Ny$`Start.Date`)
#License_merged_Ny <- mutate(License_merged_Ny, Start.Month= format_ISO8601(as.Date(Start.Date), precision = "ym"))
#License_merged_Ny <- mutate(License_merged_Ny, Start.Year= year)
#License_merged_Ny$End.year <- year(License_merged_Ny$End.Date)
#License_merged_Ny <- mutate(License_merged_Ny, Processing.time = as.numeric(difftime(License_merged_Ny$`End.Date`,License_merged_Ny$`Start.Date`,units = 'days')))
License_merged_Ny_sub <- License_merged_Ny[,c('License.Type','License.Category','Start.Date','End.Date','End.year','Start.Month','Start.Year','Processing.time','Longitude','Latitude','Status','Application.or.Renewal', 'Address.Borough')]
#clean data
#License_merged_Ny$`Start.Date` <- mdy(License_merged_Ny$Start.Date)
#License_merged_Ny$`End.Date` <- mdy(License_merged_Ny$`End.Date`)
#month <- month(License_merged_Ny$Start.Date)
#year <- year(License_merged_Ny$`Start.Date`)
#License_merged_Ny <- mutate(License_merged_Ny, Start.Month= format_ISO8601(as.Date(Start.Date), precision = "ym"))
#License_merged_Ny <- mutate(License_merged_Ny, Start.Year= year)
#License_merged_Ny$End.year <- year(License_merged_Ny$End.Date)
#License_merged_Ny <- mutate(License_merged_Ny, Processing.time = as.numeric(difftime(License_merged_Ny$`End.Date`,License_merged_Ny$`Start.Date`,units = 'days')))
#License_merged_Ny_sub <- License_merged_Ny[,c('License.Type','License.Category','Start.Date','End.Date','End.year','Start.Month','Start.Year','Processing.time','Longitude','Latitude','Status','Application.or.Renewal', 'Address.Borough')]
License_merged_Ny_sub$Processing.time <- ifelse(License_merged_Ny_sub$Processing.time<0,NA,License_merged_Ny_sub$Processing.time)
#License_merged_Ny$`Start.Date` <- mdy(License_merged_Ny$Start.Date)
#License_merged_Ny$`End.Date` <- mdy(License_merged_Ny$`End.Date`)
#month <- month(License_merged_Ny$Start.Date)
#year <- year(License_merged_Ny$`Start.Date`)
#License_merged_Ny <- mutate(License_merged_Ny, Start.Month= format_ISO8601(as.Date(Start.Date), precision = "ym"))
#License_merged_Ny <- mutate(License_merged_Ny, Start.Year= year)
#License_merged_Ny$End.year <- year(License_merged_Ny$End.Date)
#License_merged_Ny <- mutate(License_merged_Ny, Processing.time = as.numeric(difftime(License_merged_Ny$`End.Date`,License_merged_Ny$`Start.Date`,units = 'days')))
#License_merged_Ny_sub <- License_merged_Ny[,c('License.Type','License.Category','Start.Date','End.Date','End.year','Start.Month','Start.Year','Processing.time','Longitude','Latitude','Status','Application.or.Renewal', 'Address.Borough')]
#License_merged_Ny_sub$Processing.time <- ifelse(License_merged_Ny_sub$Processing.time<0,NA,License_merged_Ny_sub$Processing.time)
License_merged_clean <- na.omit(License_merged_Ny_sub)
#License_merged_Ny$`End.Date` <- mdy(License_merged_Ny$`End.Date`)
#month <- month(License_merged_Ny$Start.Date)
#year <- year(License_merged_Ny$`Start.Date`)
#License_merged_Ny <- mutate(License_merged_Ny, Start.Month= format_ISO8601(as.Date(Start.Date), precision = "ym"))
#License_merged_Ny <- mutate(License_merged_Ny, Start.Year= year)
#License_merged_Ny$End.year <- year(License_merged_Ny$End.Date)
#License_merged_Ny <- mutate(License_merged_Ny, Processing.time = as.numeric(difftime(License_merged_Ny$`End.Date`,License_merged_Ny$`Start.Date`,units = 'days')))
#License_merged_Ny_sub <- License_merged_Ny[,c('License.Type','License.Category','Start.Date','End.Date','End.year','Start.Month','Start.Year','Processing.time','Longitude','Latitude','Status','Application.or.Renewal', 'Address.Borough')]
#License_merged_Ny_sub$Processing.time <- ifelse(License_merged_Ny_sub$Processing.time<0,NA,License_merged_Ny_sub$Processing.time)
#License_merged_clean <- na.omit(License_merged_Ny_sub)
License_merged_clean <- filter(License_merged_clean,Start.Year>=2014)
#month <- month(License_merged_Ny$Start.Date)
#year <- year(License_merged_Ny$`Start.Date`)
#License_merged_Ny <- mutate(License_merged_Ny, Start.Month= format_ISO8601(as.Date(Start.Date), precision = "ym"))
#License_merged_Ny <- mutate(License_merged_Ny, Start.Year= year)
#License_merged_Ny$End.year <- year(License_merged_Ny$End.Date)
#License_merged_Ny <- mutate(License_merged_Ny, Processing.time = as.numeric(difftime(License_merged_Ny$`End.Date`,License_merged_Ny$`Start.Date`,units = 'days')))
#License_merged_Ny_sub <- License_merged_Ny[,c('License.Type','License.Category','Start.Date','End.Date','End.year','Start.Month','Start.Year','Processing.time','Longitude','Latitude','Status','Application.or.Renewal', 'Address.Borough')]
#License_merged_Ny_sub$Processing.time <- ifelse(License_merged_Ny_sub$Processing.time<0,NA,License_merged_Ny_sub$Processing.time)
#License_merged_clean <- na.omit(License_merged_Ny_sub)
#License_merged_clean <- filter(License_merged_clean,Start.Year>=2014)
License_merged_clean$Address.Borough <- toupper(License_merged_clean$Address.Borough)
#write out a csv with the above cleaned data
write.csv(License_merged_clean, file = "License_merged_clean.csv", row.names = FALSE)
#load the cleaned data
License_merged_clean <- read.csv("../output/License_merged_clean.csv")
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
runApp('D:/source/Stats 5243/r shiny app.R')
